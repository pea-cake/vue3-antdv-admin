import{_,b as f,s as v}from"./upload-modal.vue_vue_type_script_setup_true_lang-Sb9iLfmg.js";import{u as h,b}from"./dynamic-table-ChH7o3Dt.js";import{d as g,r as S,B as x,q as k,v as w,e as p,F as s,K as C,H as l,at as n}from"./index-CLE865zi.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-DjZv7itZ.js";import"./dayjs.min-oWglilSk.js";import"./dateUtil-6XP-vD3c.js";import"./index-4gd6P7H_.js";import"./isNumber-DuiY7kzJ.js";import"./useMergedState-C-8PK_0t.js";import"./LeftOutlined-DUHsjmfY.js";import"./RightOutlined-BRtNirYa.js";import"./index-DeGIXeli.js";import"./index-EZsyY4w_.js";import"./CheckOutlined-HuwgDXGA.js";import"./useRefs-Cqt9dI57.js";import"./index.vue_vue_type_style_index_0_lang-Bzaejf5Z.js";import"./index-Mb92E5YV.js";import"./useFlexGapSupport-C8hMoorc.js";import"./FullscreenOutlined-BxYJTR9E.js";import"./debounce-DRRJQWG2.js";import"./index-CgTYseRx.js";import"./index-DlsLLpFe.js";import"./index-CJVoQ--5.js";import"./index-DLjJ34Ye.js";import"./cloneDeep-BKIs_T9V.js";import"./hasIn-Cvf6lBiT.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./QuestionCircleOutlined-ih8wMwxH.js";import"./collapseMotion-BxJChX1C.js";import"./_castArrayLikeObject-C-mbEK6n.js";import"./index-5pR0fW6L.js";import"./index-8DhAXed3.js";import"./_baseUniq-C2y4DHHK.js";import"./move-BBD2taG7.js";import"./VerticalRightOutlined-DKPQkUVF.js";import"./schema-form.vue_vue_type_script_setup_true_lang-CAHU-WJf.js";import"./is-CRxDFdx9.js";import"./index-DRjcgh4c.js";import"./DownOutlined-cuySjEGe.js";import"./index-DRPd0vz7.js";import"./pick-Dd397G7n.js";import"./zh_CN-CAyhejr6.js";import"./index-DlJSEVq9.js";import"./index-Brv4cA8J.js";import"./EnterOutlined-BFTwbjdv.js";import"./CopyOutlined-BbRV1N0s.js";import"./index-YmsSFXvY.js";import"./isMobile-BbN7I0i_.js";import"./index-CXfQ_vys.js";const ko=g({name:"ToolsStorage",__name:"index",setup(y){const o=S([]),[u,t]=h({formProps:{schemas:v},rowSelection:{type:"checkbox",selectedRowKeys:o,onSelect:(e,r)=>{r?o.value=[...o.value,e.id]:o.value=o.value.filter(i=>i!==e.id)},onSelectAll:(e,r,i)=>{const m=i.map(a=>a.id);e?o.value=[...o.value,...m]:o.value=o.value.filter(a=>!m.includes(a))}}}),c=()=>{t==null||t.reload()},d=async()=>{await n.toolsStorage.storageDelete({ids:o.value}),o.value=[],t==null||t.reload()};return(e,r)=>{const i=x("a-button"),m=b;return w(),k("div",null,[p(l(u),{"row-key":"id","header-title":"存储管理","data-request":l(n).toolsStorage.storageList,columns:l(f),bordered:"",size:"small"},{toolbar:s(()=>[p(_,{onUploadSuccess:c}),p(m,{title:"你确定要删除这些数据吗?","ok-text":"确定","cancel-text":"取消",onConfirm:d},{default:s(()=>[p(i,{disabled:!e.$auth("tool:storage:delete")||!o.value.length,type:"error"},{default:s(()=>r[0]||(r[0]=[C(" 删除 ")])),_:1,__:[0]},8,["disabled"])]),_:1})]),_:1},8,["data-request","columns"])])}}});export{ko as default};
